<!DOCTYPE html> <html> <head> <title>Space Pac-Invaders</title> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <style> canvas { border: 1px solid #00FFFF; background: #000000; max-width: 100%; height: auto; display: none; } body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background: #000000; overflow: hidden; touch-action: none; font-family: Arial, sans-serif; } #menu, #settings-menu { text-align: center; color: #FFFF00; } #settings-menu { display: none; } #logo { font-size: 48px; font-weight: bold; margin-bottom: 20px; text-shadow: 2px 2px 4px #00FFFF; } #made-by { font-size: 24px; margin-bottom: 30px; color: #00FF00; } #start-btn, #settings-btn, #back-btn { padding: 10px 20px; font-size: 20px; background: #00FFFF; color: #000000; border: none; border-radius: 5px; cursor: pointer; margin: 10px; } #start-btn:hover, #settings-btn:hover, #back-btn:hover { background: #00baba; } #theme-select, #bg-image-input, #bg-music-input { padding: 5px; font-size: 16px; background: #000000; color: #FFFF00; border: 1px solid #00FFFF; border-radius: 5px; margin: 10px; } #score, #level, #joystick, #shoot-btn, #mute-btn, #restart { display: none; } #score { color: #FFFF00; font-family: Arial; position: absolute; top: 10px; left: 10px; z-index: 10; } #level { color: #00FF00; font-family: Arial; position: absolute; top: 10px; right: 10px; z-index: 10; } #joystick { position: absolute; bottom: 20px; left: 20px; width: 100px; height: 100px; background: rgba(255, 255, 0, 0.2); border-radius: 50%; touch-action: none; } #joystick-nub { position: absolute; width: 40px; height: 40px; background: rgba(255, 255, 0, 0.5); border-radius: 50%; transform: translate(-50%, -50%); top: 50%; left: 50%; } #shoot-btn { position: absolute; bottom: 20px; right: 20px; width: 80px; height: 80px; background: rgba(0, 255, 255, 0.5); border-radius: 50%; border: none; touch-action: none; } #mute-btn { position: absolute; top: 40px; right: 10px; padding: 5px 10px; background: #00FFFF; color: #000000; border: none; border-radius: 5px; cursor: pointer; z-index: 10; } #mute-btn:hover { background: #00baba; } #restart { position: absolute; padding: 10px 20px; font-size: 20px; background: #00FFFF; color: #000000; border: none; cursor: pointer; z-index: 20; } #restart:hover { background: #00baba; } </style> </head> <body> <div id="menu"> <div id="logo">PacInvaders</div> <div id="made-by">Made by Philo Sipher</div> <button id="start-btn" onclick="startGame()">Start Game</button> <button id="settings-btn" onclick="showSettings()">Settings</button> <br> <select id="theme-select" onchange="changeTheme()"> <option value="default">Default Theme</option> <option value="retro">Retro Theme</option> <option value="neon">Neon Theme</option> </select> </div> <div id="settings-menu"> <div id="logo">Settings</div> <input type="file" id="bg-image-input" accept="image/png, image/jpeg" onchange="uploadBackgroundImage()"> <label for="bg-image-input" style="color: #00FF00;">Upload Background Image (PNG/JPG)</label> <br> <input type="file" id="bg-music-input" accept="audio/mp3" onchange="uploadBackgroundMusic()"> <label for="bg-music-input" style="color: #00FF00;">Upload Background Music (MP3)</label> <br> <button id="back-btn" onclick="backToMenu()">Back</button> </div> <div id="score">Score: 0</div> <div id="level">Level: 1</div> <canvas id="gameCanvas" width="800" height="600"></canvas> <div id="joystick"> <div id="joystick-nub"></div> </div> <button id="shoot-btn"></button> <button id="mute-btn" onclick="toggleMute()">Mute</button> <button id="restart" onclick="restartGame()">Restart</button> <script> const canvas = document.getElementById('gameCanvas'); const ctx = canvas.getContext('2d'); const scoreDisplay = document.getElementById('score'); const levelDisplay = document.getElementById('level'); const joystick = document.getElementById('joystick'); const joystickNub = document.getElementById('joystick-nub'); const shootBtn = document.getElementById('shoot-btn'); const muteBtn = document.getElementById('mute-btn'); const restartBtn = document.getElementById('restart'); const menu = document.getElementById('menu'); const settingsMenu = document.getElementById('settings-menu'); const themeSelect = document.getElementById('theme-select'); const bgImageInput = document.getElementById('bg-image-input'); const bgMusicInput = document.getElementById('bg-music-input'); canvas.width = Math.min(800, window.innerWidth - 20); canvas.height = Math.min(600, window.innerHeight - 20); const player = { x: canvas.width/2, y: canvas.height - 100, size: 30, speed: 5, dx: 0, dy: 0, fireRate: 500, lastShot: 0, bulletSpeed: 7 }; let stars = []; const starSize = 10; let starCount = 10; let enemies = []; const enemySize = 25; let bullets = []; const bulletSize = 5; let explosions = []; let backgroundStars = []; let upgrades = []; let score = 0; let level = 1; let gameOver = false; let touchId = null; const joystickCenterX = 70; const joystickCenterY = canvas.height - 70; const audioCtx = new (window.AudioContext || window.webkitAudioContext)(); let isMuted = false; let backgroundMusic = null; // Will hold Audio element or oscillator let customBgImage = null; let theme = { playerColor: '#00FFFF', starColor: '#FFFF00', enemyColor: '#FF0000', bulletColor: '#FFFFFF', bgColor: '#000033', borderColor: '#00FFFF', uiColor1: '#FFFF00', uiColor2: '#00FF00', buttonColor: '#00FFFF' }; function applyTheme() { switch(themeSelect.value) { case 'retro': theme = { playerColor: '#00FF00', starColor: '#FFFF00', enemyColor: '#FF00FF', bulletColor: '#FFFFFF', bgColor: '#000000', borderColor: '#00FF00', uiColor1: '#FFFF00', uiColor2: '#FF00FF', buttonColor: '#00FF00' }; break; case 'neon': theme = { playerColor: '#FF00FF', starColor: '#00FFFF', enemyColor: '#FF0000', bulletColor: '#FFFF00', bgColor: '#000022', borderColor: '#FF00FF', uiColor1: '#00FFFF', uiColor2: '#FFFF00', buttonColor: '#FF00FF' }; break; default: theme = { playerColor: '#00FFFF', starColor: '#FFFF00', enemyColor: '#FF0000', bulletColor: '#FFFFFF', bgColor: '#000033', borderColor: '#00FFFF', uiColor1: '#FFFF00', uiColor2: '#00FF00', buttonColor: '#00FFFF' }; } canvas.style.borderColor = theme.borderColor; scoreDisplay.style.color = theme.uiColor1; levelDisplay.style.color = theme.uiColor2; muteBtn.style.background = theme.buttonColor; restartBtn.style.background = theme.buttonColor; shootBtn.style.background = `rgba(${parseInt(theme.buttonColor.slice(1,3), 16)}, ${parseInt(theme.buttonColor.slice(3,5), 16)}, ${parseInt(theme.buttonColor.slice(5,7), 16)}, 0.5)`; } function changeTheme() { applyTheme(); } function startBackgroundMusic() { if (backgroundMusic instanceof Audio) { backgroundMusic.loop = true; backgroundMusic.volume = 0.2; // Lower volume for chill vibe backgroundMusic.play(); } else { backgroundMusic = audioCtx.createOscillator(); const gainNode = audioCtx.createGain(); backgroundMusic.connect(gainNode); gainNode.connect(audioCtx.destination); backgroundMusic.type = 'sine'; backgroundMusic.frequency.setValueAtTime(220, audioCtx.currentTime); backgroundMusic.frequency.linearRampToValueAtTime(330, audioCtx.currentTime + 2); backgroundMusic.frequency.linearRampToValueAtTime(220, audioCtx.currentTime + 4); gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime); backgroundMusic.start(); backgroundMusic.onended = () => startBackgroundMusic(); setTimeout(() => backgroundMusic.stop(), 4000); } } function stopBackgroundMusic() { if (backgroundMusic instanceof Audio) { backgroundMusic.pause(); backgroundMusic.currentTime = 0; } else if (backgroundMusic) { backgroundMusic.stop(); backgroundMusic = null; } } function toggleMute() { if (isMuted) { startBackgroundMusic(); muteBtn.textContent = 'Mute'; isMuted = false; } else { stopBackgroundMusic(); muteBtn.textContent = 'Unmute'; isMuted = true; } } function uploadBackgroundImage() { const file = bgImageInput.files[0]; if (file && (file.type === 'image/png' || file.type === 'image/jpeg')) { const reader = new FileReader(); reader.onload = function(e) { customBgImage = new Image(); customBgImage.src = e.target.result; }; reader.readAsDataURL(file); } else { alert('Please upload a valid PNG or JPG image.'); } } function uploadBackgroundMusic() { const file = bgMusicInput.files[0]; if (file && file.type === 'audio/mpeg') { const reader = new FileReader(); reader.onload = function(e) { stopBackgroundMusic(); backgroundMusic = new Audio(e.target.result); if (!isMuted) startBackgroundMusic(); }; reader.readAsDataURL(file); } else { alert('Please upload a valid MP3 file.'); } } function playSound(type) { if (isMuted) return; const osc = audioCtx.createOscillator(); const gainNode = audioCtx.createGain(); osc.connect(gainNode); gainNode.connect(audioCtx.destination); if (type === 'shoot') { osc.type = 'square'; osc.frequency.setValueAtTime(880, audioCtx.currentTime); gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime); gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2); } else if (type === 'explode') { osc.type = 'sawtooth'; osc.frequency.setValueAtTime(100, audioCtx.currentTime); gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime); gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4); } else if (type === 'star') { osc.type = 'triangle'; osc.frequency.setValueAtTime(440, audioCtx.currentTime); gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime); gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1); } else if (type === 'upgrade') { osc.type = 'sine'; osc.frequency.setValueAtTime(660, audioCtx.currentTime); gainNode.gain.setValueAtTime(0.15, audioCtx.currentTime); gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3); } osc.start(); osc.stop(audioCtx.currentTime + (type === 'shoot' ? 0.2 : type === 'explode' ? 0.4 : type === 'upgrade' ? 0.3 : 0.1)); } function initBackground() { backgroundStars = []; for (let i = 0; i < 150; i++) { backgroundStars.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, size: Math.random() * 3 + 1, speed: Math.random() * 3 + 1, color: Math.random() < 0.8 ? '#FFFFFF' : theme.playerColor }); } } function initLevel() { stars = []; enemies = []; bullets = []; explosions = []; upgrades = []; starCount = 10 + level * 2; let enemyCount = Math.floor(2 + level * 1.5); for (let i = 0; i < starCount; i++) { stars.push({ x: Math.random() * (canvas.width - starSize * 2), y: Math.random() * (canvas.height - starSize * 2) }); } for (let i = 0; i < enemyCount; i++) { enemies.push({ x: Math.random() * (canvas.width - enemySize), y: -enemySize, dx: (1 + level * 0.2) * (Math.random() < 0.5 ? 1 : -1), dy: 0.5 + level * 0.1 }); } if (level % 5 === 0) { upgrades.push({ x: Math.random() * (canvas.width - 20), y: Math.random() * (canvas.height - 20), type: Math.random() < 0.5 ? 'speed' : 'fireRate' }); } scoreDisplay.textContent = 'Score: ' + score; levelDisplay.textContent = 'Level: ' + level; } function init() { score = 0; level = 1; gameOver = false; player.x = canvas.width/2; player.y = canvas.height - 100; player.speed = 5; player.fireRate = 500; player.bulletSpeed = 7; restartBtn.style.display = 'none'; initLevel(); initBackground(); if (!isMuted) startBackgroundMusic(); applyTheme(); } function startGame() { menu.style.display = 'none'; settingsMenu.style.display = 'none'; canvas.style.display = 'block'; scoreDisplay.style.display = 'block'; levelDisplay.style.display = 'block'; joystick.style.display = 'block'; shootBtn.style.display = 'block'; muteBtn.style.display = 'block'; init(); gameLoop(); } function showSettings() { menu.style.display = 'none'; settingsMenu.style.display = 'block'; } function backToMenu() { settingsMenu.style.display = 'none'; menu.style.display = 'block'; } function drawBackground() { if (customBgImage) { ctx.drawImage(customBgImage, 0, 0, canvas.width, canvas.height); } else { ctx.fillStyle = theme.bgColor; ctx.fillRect(0, 0, canvas.width, canvas.height); backgroundStars.forEach(star => { ctx.fillStyle = star.color; ctx.beginPath(); ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2); ctx.fill(); star.y += star.speed; if (star.y > canvas.height) { star.y = -star.size; star.x = Math.random() * canvas.width; } }); } } function drawPlayer() { ctx.fillStyle = theme.playerColor; ctx.beginPath(); ctx.arc(player.x, player.y - player.size/3, player.size/4, 0, Math.PI * 2); ctx.fill(); ctx.beginPath(); ctx.moveTo(player.x - player.size/2, player.y + player.size/3); ctx.lineTo(player.x, player.y - player.size/2); ctx.lineTo(player.x + player.size/2, player.y + player.size/3); ctx.closePath(); ctx.fill(); ctx.beginPath(); ctx.moveTo(player.x - player.size/2, player.y + player.size/3); ctx.lineTo(player.x - player.size, player.y + player.size/2); ctx.lineTo(player.x - player.size/2, player.y); ctx.fill(); ctx.beginPath(); ctx.moveTo(player.x + player.size/2, player.y + player.size/3); ctx.lineTo(player.x + player.size, player.y + player.size/2); ctx.lineTo(player.x + player.size/2, player.y); ctx.fill(); } function drawStars() { stars.forEach(star => { ctx.fillStyle = theme.starColor; ctx.beginPath(); ctx.arc(star.x + starSize, star.y + starSize, starSize, 0.25 * Math.PI, 1.75 * Math.PI); ctx.lineTo(star.x + starSize, star.y + starSize); ctx.closePath(); ctx.fill(); ctx.fillStyle = '#000000'; ctx.beginPath(); ctx.arc(star.x + starSize + 3, star.y + starSize - 3, 2, 0, Math.PI * 2); ctx.fill(); }); } function drawEnemies() { ctx.fillStyle = theme.enemyColor; enemies.forEach(enemy => { ctx.fillRect(enemy.x - enemySize/2, enemy.y, enemySize, enemySize); ctx.fillRect(enemy.x - 2, enemy.y - 10, 4, 10); }); } function drawBullets() { ctx.fillStyle = theme.bulletColor; bullets.forEach(bullet => { ctx.beginPath(); ctx.arc(bullet.x, bullet.y, bulletSize, 0, Math.PI * 2); ctx.fill(); }); } function drawExplosions() { explosions.forEach((exp, index) => { ctx.fillStyle = `rgba(255, 0, 0, ${1 - exp.age/20})`; ctx.beginPath(); ctx.arc(exp.x, exp.y, exp.age * 2, 0, Math.PI * 2); ctx.fill(); exp.age++; if (exp.age > 20) explosions.splice(index, 1); }); } function drawUpgrades() { upgrades.forEach(upgrade => { ctx.fillStyle = upgrade.type === 'speed' ? '#00FF00' : '#FF00FF'; ctx.beginPath(); ctx.arc(upgrade.x, upgrade.y, 10, 0, Math.PI * 2); ctx.fill(); }); } function update() { if (gameOver) return; player.x += player.dx; player.y += player.dy; player.x = Math.max(player.size/2, Math.min(canvas.width - player.size/2, player.x)); player.y = Math.max(player.size/2, Math.min(canvas.height - player.size/2, player.y)); enemies.forEach(enemy => { enemy.x += enemy.dx; enemy.y += enemy.dy; if (enemy.x > canvas.width - enemySize || enemy.x < enemySize) enemy.dx *= -1; if (enemy.y > canvas.height) { enemy.y = -enemySize; enemy.x = Math.random() * (canvas.width - enemySize); } if (Math.abs(enemy.x - player.x) < enemySize && Math.abs(enemy.y - player.y) < enemySize) { gameOver = true; restartBtn.style.display = 'block'; alert('Game Over! Score: ' + score); } }); bullets.forEach((bullet, index) => { bullet.y -= player.bulletSpeed; if (bullet.y < 0) bullets.splice(index, 1); enemies.forEach((enemy, eIndex) => { if (Math.abs(bullet.x - enemy.x) < enemySize && Math.abs(bullet.y - enemy.y) < enemySize) { enemies.splice(eIndex, 1); bullets.splice(index, 1); explosions.push({x: enemy.x, y: enemy.y, age: 0}); score += 50; scoreDisplay.textContent = 'Score: ' + score; playSound('explode'); } }); }); stars = stars.filter(star => { if (Math.abs(star.x + starSize - player.x) < player.size && Math.abs(star.y + starSize - player.y) < player.size) { score += 10; scoreDisplay.textContent = 'Score: ' + score; playSound('star'); return false; } return true; }); upgrades = upgrades.filter((upgrade, index) => { if (Math.abs(upgrade.x - player.x) < player.size && Math.abs(upgrade.y - player.y) < player.size) { if (upgrade.type === 'speed') player.speed += 1; else player.fireRate = Math.max(100, player.fireRate - 50); playSound('upgrade'); return false; } return true; }); if (stars.length === 0) { level++; initLevel(); } } function gameLoop() { ctx.clearRect(0, 0, canvas.width, canvas.height); drawBackground(); update(); drawStars(); drawEnemies(); drawBullets(); drawExplosions(); drawUpgrades(); drawPlayer(); requestAnimationFrame(gameLoop); } function shoot() { if (!gameOver && Date.now() - player.lastShot > player.fireRate) { bullets.push({ x: player.x, y: player.y - player.size/2 }); player.lastShot = Date.now(); playSound('shoot'); } } document.addEventListener('keydown', (e) => { switch(e.key) { case 'ArrowLeft': player.dx = -player.speed; break; case 'ArrowRight': player.dx = player.speed; break; case 'ArrowUp': player.dy = -player.speed; break; case 'ArrowDown': player.dy = player.speed; break; case ' ': shoot(); break; } }); document.addEventListener('keyup', (e) => { if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') player.dx = 0; if (e.key === 'ArrowUp' || e.key === 'ArrowDown') player.dy = 0; }); let moveTouchId = null; let shootTouchId = null; joystick.addEventListener('touchstart', (e) => { e.preventDefault(); if (!moveTouchId) { moveTouchId = e.changedTouches[0].identifier; } }); joystick.addEventListener('touchmove', (e) => { e.preventDefault(); for (let touch of e.changedTouches) { if (touch.identifier === moveTouchId) { let dx = touch.pageX - joystickCenterX - 20; let dy = touch.pageY - joystickCenterY - (window.innerHeight - canvas.height) / 2; let distance = Math.sqrt(dx*dx + dy*dy); let maxDistance = 50; if (distance > maxDistance) { dx = dx * maxDistance / distance; dy = dy * maxDistance / distance; } joystickNub.style.left = (50 + dx) + 'px'; joystickNub.style.top = (50 + dy) + 'px'; player.dx = (dx / maxDistance) * player.speed; player.dy = (dy / maxDistance) * player.speed; } } }); joystick.addEventListener('touchend', (e) => { e.preventDefault(); for (let touch of e.changedTouches) { if (touch.identifier === moveTouchId) { moveTouchId = null; joystickNub.style.left = '50%'; joystickNub.style.top = '50%'; player.dx = 0; player.dy = 0; } } }); shootBtn.addEventListener('touchstart', (e) => { e.preventDefault(); if (!shootTouchId) { shootTouchId = e.changedTouches[0].identifier; shoot(); } }); shootBtn.addEventListener('touchend', (e) => { e.preventDefault(); for (let touch of e.changedTouches) { if (touch.identifier === shootTouchId) { shootTouchId = null; } } }); function restartGame() { if (!isMuted) { stopBackgroundMusic(); startBackgroundMusic(); } init(); } applyTheme(); </script> </body> </html>